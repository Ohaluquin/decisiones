<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Principal</title>
  <link rel="stylesheet" href="css/my_css.css" />
  <link rel="icon" href="data:," />
</head>

<body>
  <div class="container-background">
    <div class="body-container">
      <div id="user_stats" class="part centrado modal" name="atributos">
        <div class="perfil centrado">
          <div class="nombre" id="nombre">Nombre</div>
          <button class="close-modal" onclick="mostrarPerfilToggle()">✖</button>
          <div id="contenedor_personaje">
            <span id="letreroImagen">p</span>
            <img id="fotoPersonaje" src="" class="transition"
              style="position:absolute; opacity:1; width: 100%; height: 100%;">
            <img id="fotoPersonaje-nueva" src="" class="transition"
              style="position:absolute; opacity:0; width: 100%; height: 100%;">
          </div>
          <hr>
          <table id="tabla_barras">
            <tbody class="tabla_barras">
              <tr>
                <td>Determinación:</td>
                <td><progress value="8" max="12" id="determinacion"></progress></td>
                <td><span id="determinacion-value"></span></td>
              </tr>
              <tr>
                <td>Alegría:</td>
                <td><progress value="10" max="12" id="alegria"></progress></td>
                <td><span id="alegria-value"></span></td>
              </tr>
              <tr>
                <td>Apoyo:</td>
                <td><progress value="8" max="12" id="apoyo"></progress></td>
                <td><span id="apoyo-value"></span></td>
              </tr>
              <tr>
                <td>Salud:</td>
                <td><progress value="15" max="12" id="salud"></progress></td>
                <td><span id="salud-value"></span></td>
              </tr>
              <tr>
                <td>Dinero:</td>
                <td><progress value="3" max="12" id="dinero"></progress></td>
                <td><span id="dinero-value"></span></td>
              </tr>
              <tr>
                <td>Tiempo:</td>
                <td><progress value="18" max="12" id="tiempo"></progress></td>
                <td><span id="tiempo-value"></span></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div id="center" class="part centrado">
        <div class="card">
          <h3 id="pregunta"></h3>
          <img src="img/inicio.webp" alt="Presiona el dado para iniciar" id="foto-pregunta" />
          <br />

          <div class="options">
            <div id="radioptions">
              <input type="radio" id="option1" name="option" value="1" />
              <label for="option1" id="option1_text"></label><br />

              <input type="radio" id="option2" name="option" value="2" />
              <label for="option2" id="option2_text"></label><br />

              <input type="radio" id="option3" name="option" value="3" />
              <label for="option3" id="option3_text"></label><br />

              <input type="radio" id="option4" name="option" value="4" />
              <label for="option4" id="option4_text"></label><br />
            </div>
            <hr>
            <p id="explicacion"></p>
            <button class="key centrado" id="siguiente" onclick="siguiente()">Siguiente</button>
          </div>
        </div>
      </div>
      <div id="right" class="part centrado">
        <div class="contextos" id="contenedor">
          <img src="img/inicio.webp" alt="tablero" id="tablero" />
          <img src="" alt="ficha" id="ficha" />
          <div id="control-panel">
            <button id="ver-atributos-toggle" onclick="mostrarPerfilToggle()">Ver Atributos</button>
            <img src="img/dado-animado.gif" alt="contextos" id="dado" />
            <button id="intercambiar-atributos" onclick="intercambiarAtributos()">Intercambiar Atributos</button>
          </div>
        </div>
      </div>
      <!-- Modal de intercambio de atributos -->
      <div id="intercambio-modal" class="modal">
        <h2>Intercambiar Atributos</h2>
        <p>Selecciona qué atributo deseas disminuir y cuál deseas aumentar:</p>

        <div class="atributos">
          <label for="atributo-a-disminuir">Disminuir 2:</label>
          <select id="atributo-a-disminuir">
            <option value="determinacion">Determinación</option>
            <option value="alegria">Alegría</option>
            <option value="apoyo">Apoyo</option>
            <option value="salud">Salud</option>
            <option value="dinero">Dinero</option>
            <option value="tiempo">Tiempo</option>
          </select>
        </div>

        <div class="atributos">
          <label for="atributo-a-aumentar">Aumentar 1:</label>
          <select id="atributo-a-aumentar">
            <option value="determinacion">Determinación</option>
            <option value="alegria">Alegría</option>
            <option value="apoyo">Apoyo</option>
            <option value="salud">Salud</option>
            <option value="dinero">Dinero</option>
            <option value="tiempo">Tiempo</option>
          </select>
        </div>

        <button id="confirmar-intercambio" onclick="realizarIntercambio()">Confirmar Intercambio</button>
        <button class="close" onclick="cerrarIntercambio()">X</button>
      </div>
      <!-- Modal HTML Structure -->
      <div id="summaryModal" class="modal">
        <div class="modal-content">
          <h4>¡Felicidades por completar Decisiones y Azares!</h4>
          <!-- Contenedor de flexbox -->
          <div id="feedbackContainer" class="flex-container">
            <!-- Contenedor del GIF animado a la izquierda -->
            <div id="gifContainer" class="flex-item gif">
              <img id="animatedGif" style="display:none;" />
            </div>
            <!-- Contenedor de los feedbacks a la derecha -->
            <div id="feedbackMessages" class="flex-item feedback">
              <p>Así es como se modificaron tus atributos:</p>
              <p id="determinacionFeedback"></p>
              <p id="alegriaFeedback"></p>
              <p id="apoyoFeedback"></p>
              <p id="saludFeedback"></p>
              <p id="dineroFeedback"></p>
              <p id="tiempoFeedback"></p>
            </div>
          </div>
          <br />
          <p>Este juego fue desarrollado por Hugo Luquín</p>
          <p>con asistencia de IA generativa: chatGPT+, stable diffusion, udio y audioGen</p>
          <br />
          <a href="select_player.html">Jugar de nuevo</a>
        </div>
        <p id="codigoRespuestas"></p>
      </div>
      <!-- Modal para el final -->
      <div id="modal-final-triste" class="modal">
        <span class="close" onclick="reiniciarJuego()">&times;</span>
        <img src="" alt="Personaje triste" id="imagen-perdida" /> <!-- Esta imagen cambiará según el atributo -->
        <h2>¡Lo siento! Has perdido el juego.</h2>
        <p>Te has quedado sin <span id="atributo-perdido"></span>. No puedes continuar el juego.</p>        
      </div>
    </div>
    <audio id="end-music" src="sounds/Juventud.mp3"></audio>
    <audio id="personal-music" src="sounds/personal.mp3" loop></audio>
    <audio id="academic-music" src="sounds/academic.mp3" loop></audio>
    <audio id="social-music" src="sounds/social.mp3" loop></audio>
    <audio id="random-music" src="sounds/random.mp3" loop></audio>
    <script src="database/questions.js"></script>
    <script src="database/personajes.js"></script>
    <script src="js/config.js"></script>
    <script src="js/player.js"></script>
    <script src="js/game.js"></script>
    <script src="js/select_column.js"></script>
    <script src="js/principal.js"></script>
</body>

</html>